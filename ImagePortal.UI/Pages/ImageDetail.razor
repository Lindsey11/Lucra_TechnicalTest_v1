@page "/image-detail/{deviceId:int}"

@if (!IsLoading)
{
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <EditForm Model="@ImageDataViewModel" OnValidSubmit="@HandleValidSubmit" class="p-4 border rounded">
                    <DataAnnotationsValidator />
                    <ValidationSummary />

                    <div class="mb-3">
                        <label for="title" class="form-label">Image Title:</label>
                        <InputText id="title" class="form-control" @bind-Value="ImageDataViewModel.title" />
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">Image Description:</label>
                        <InputTextArea id="description" class="form-control" @bind-Value="ImageDataViewModel.description" />
                    </div>

                    <button type="button" @onclick="Delete" class="btn btn-primary">Delete</button>
                    <button type="submit" class="btn btn-primary">Update Image</button>
                </EditForm>
            </div>
        </div>


        <div class="row justify-content-center mt-4">
            <div class="col-md-6">
                <img src="@ImageDataViewModel.imageUrl" class="img-fluid" />
            </div>
        </div>
        
    </div>
}
else
{
    <p>Fethcing Image Data.....</p>
}

<CustomDialog @ref="dialog" OnConfirm="HandleConfirmation"></CustomDialog>
